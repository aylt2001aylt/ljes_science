<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>變動的大地挑戰賽</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body { -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fadeIn 0.5s ease-out forwards; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .animate-slide-up { animation: slideUp 0.3s ease-out forwards; }
        .custom-scrollbar::-webkit-scrollbar { width: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>
</head>
<body class="bg-slate-100 font-sans text-slate-800" oncontextmenu="return false" onselectstart="return false" oncopy="return false" oncut="return false" ondragstart="return false">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- 資料定義區 ---
        
        // 21 種稱號定義 (變動的大地主題)
        const rankDefinitions = [
            { title: "🌑 靜止的塵埃", color: "text-slate-400", msg: "一切的開始，你還是一粒微小的塵埃..." },
            { title: "🏜️ 沉積的泥沙", color: "text-stone-500", msg: "隨著水流靜靜沉澱，等待時機。" },
            { title: "🧱 風化的岩石", color: "text-stone-600", msg: "歷經風霜，你開始展現堅韌的本質。" },
            { title: "🌊 滾動的鵝卵石", color: "text-blue-400", msg: "在激流中翻滾，磨練出圓融的智慧。" },
            { title: "💧 流動的溪水", color: "text-cyan-500", msg: "雖然柔弱，卻擁有穿石的毅力。" },
            { title: "🌿 堆積的三角洲", color: "text-green-600", msg: "孕育生命，成為肥沃的知識土壤。" },
            { title: "🪨 堅硬的沉積岩", color: "text-yellow-600", msg: "層層疊疊的知識，構築了你的基礎。" },
            { title: "🔥 受壓的變質岩", color: "text-orange-700", msg: "在高壓下蛻變，展現出美麗的紋理。" },
            { title: "🌋 熾熱的岩漿", color: "text-red-500", msg: "充滿能量，準備噴發你的熱情！" },
            { title: "💥 噴發的火山", color: "text-red-600", msg: "驚天動地！你的知識如火山般爆發！" },
            { title: "📉 斷裂的地層", color: "text-slate-500", msg: "打破舊有觀念，創造新的地質結構。" },
            { title: "⚡ 錯動的斷層", color: "text-yellow-500", msg: "釋放巨大的能量，改變地表的樣貌。" },
            { title: "🏔️ 隆起的山脈", color: "text-emerald-700", msg: "高聳入雲，成為他人仰望的高峰。" },
            { title: "🌍 漂移的板塊", color: "text-blue-600", msg: "你的影響力如同板塊運動，緩慢但無法阻擋。" },
            { title: "🌊 狂暴的海嘯", color: "text-indigo-600", msg: "知識的浪潮襲來，無人能擋！" },
            { title: "🔨 地殼的雕塑家", color: "text-purple-500", msg: "你隨手一揮，便能刻畫出壯麗的峽谷。" },
            { title: "🎓 地質學大師", color: "text-pink-500", msg: "上知天文下知地理，你是地質界的權威。" },
            { title: "🛡️ 地球的守護者", color: "text-teal-500", msg: "你深知大地的奧秘，並守護著這顆星球。" },
            { title: "🌌 撼動山河的巨人", color: "text-orange-500", msg: "你的每一步，都在改寫地球的歷史！" },
            { title: "🪐 變動大地的主宰", color: "text-indigo-500", msg: "太神了！你是這顆星球真正的主人！" },
            { title: "👑 宇宙級地質天神", color: "text-yellow-400", msg: "超越地球的存在，你的知識已達宇宙級別！" },
        ];

        // 完整 319 題庫 (來自 JSON 轉換)
        const fullQuestionPool = [
            {id:1,text:"地球表面的岩石和土壤是大部分生物生長或活動的環境。",options:["O","X"],correctIndex:0,explanation:""},
            {id:2,text:"在野外，到處都看得到由岩石所形成各種地形景觀，不同地方的岩石種類都相同。",options:["O","X"],correctIndex:1,explanation:""},
            {id:3,text:"出外旅遊，看到漂亮或喜歡的岩石，都可以敲下來帶回家。",options:["O","X"],correctIndex:1,explanation:""},
            {id:4,text:"石灰岩主要是由方解石所組成的。",options:["O","X"],correctIndex:0,explanation:""},
            {id:5,text:"花崗岩是由長石、黑雲母或白雲母、石英等礦物所組成的。",options:["O","X"],correctIndex:0,explanation:""},
            {id:6,text:"花崗岩上看起來有點透明的部分是石英。",options:["O","X"],correctIndex:0,explanation:""},
            {id:7,text:"花崗岩是由石英一種礦物所組成的。",options:["O","X"],correctIndex:1,explanation:""},
            {id:8,text:"沉積岩中的頁岩是由長石、黑雲母或白雲母、石英等礦物所組成的。",options:["O","X"],correctIndex:1,explanation:""},
            {id:9,text:"依據岩石的成因，可以把岩石分成火成岩、變質岩、沉積岩三大類。",options:["O","X"],correctIndex:0,explanation:""},
            {id:10,text:"科學家依據岩石形成的地點，可以把岩石分成火成岩、沉積岩兩大類。",options:["O","X"],correctIndex:1,explanation:""},
            {id:11,text:"火成岩中常見的岩石有安山岩、花崗岩、玄武岩等。",options:["O","X"],correctIndex:0,explanation:""},
            {id:12,text:"建築常用到的花崗岩，是屬於火成岩。",options:["O","X"],correctIndex:0,explanation:""},
            {id:13,text:"蓋房子用到的水泥是以石灰岩為主要材料，而石灰岩是屬於沉積岩。",options:["O","X"],correctIndex:0,explanation:""},
            {id:14,text:"利用放大鏡觀察礦物的形狀和光澤，可以分辨出不同的礦物。",options:["O","X"],correctIndex:0,explanation:""},
            {id:15,text:"岩石和礦物與人類的食、衣、住、行息息相關。",options:["O","X"],correctIndex:0,explanation:""},
            {id:16,text:"人類利用各種不同的礦物或岩石製成建築物或生活物品。",options:["O","X"],correctIndex:0,explanation:""},
            {id:17,text:"可以利用眼睛看、用手摸來觀察礦物。",options:["O","X"],correctIndex:0,explanation:""},
            {id:18,text:"岩石是由一種或一種以上的礦物所組成的。",options:["O","X"],correctIndex:0,explanation:""},
            {id:19,text:"岩石是必須由兩種以上的礦物組成的才算。",options:["O","X"],correctIndex:1,explanation:""},
            {id:20,text:"人們會利用硬度較高的岩石作為建築的材料。",options:["O","X"],correctIndex:0,explanation:""},
            {id:21,text:"如果某一塊岩石含有好幾種不同的顏色，表示這塊岩石是由不同礦物組成的。",options:["O","X"],correctIndex:0,explanation:""},
            {id:22,text:"用放大鏡觀察一塊不知名石頭，如果其中有一些其他顏色的顆粒，這塊石頭可能是岩石。",options:["O","X"],correctIndex:0,explanation:""},
            {id:23,text:"礦物上有顏色不同的顆粒，那些是岩石。",options:["O","X"],correctIndex:1,explanation:""},
            {id:24,text:"用放大鏡觀察岩石的表面，可以推測岩石是由哪些礦物所組成的。",options:["O","X"],correctIndex:0,explanation:""},
            {id:25,text:"安柏利用手觸摸某一顆岩石，利用顆粒的觸感不同可以判斷岩石是由哪幾種礦物所組成的。",options:["O","X"],correctIndex:1,explanation:""},
            {id:26,text:"淑芳想知道手中岩石是由哪幾種礦物所組成，因此她拿榔頭將岩石敲得粉碎。",options:["O","X"],correctIndex:1,explanation:""},
            {id:27,text:"不同的岩石組成的成分也不同，岩石上看到不同顏色的部分是礦物。",options:["O","X"],correctIndex:0,explanation:""},
            {id:28,text:"俊明將手中岩石磨成粉，由粉末顏色判斷是由哪幾種礦物所組成。",options:["O","X"],correctIndex:1,explanation:""},
            {id:29,text:"觀察礦物的方法，除了用看的、用摸的，還可以用咬的判斷硬度大小。",options:["O","X"],correctIndex:1,explanation:""},
            {id:30,text:"任何一種岩石都是好的建築材料。",options:["O","X"],correctIndex:1,explanation:""},
            {id:31,text:"將兩種不同的礦物互相刻劃，可以比較出兩種礦物的硬度。",options:["O","X"],correctIndex:0,explanation:""},
            {id:32,text:"指甲可以在雲母上留下刻痕，因此指甲的硬度比雲母硬。",options:["O","X"],correctIndex:0,explanation:""},
            {id:33,text:"原住民用大理岩為材料建造石板屋。",options:["O","X"],correctIndex:1,explanation:""},
            {id:34,text:"花崗岩的質地堅硬，常被用來製成建築的材料。",options:["O","X"],correctIndex:0,explanation:""},
            {id:35,text:"花崗岩是由硫磺、滑石和石墨等礦物所組成的。",options:["O","X"],correctIndex:1,explanation:""},
            {id:36,text:"石灰岩是製作水泥的原料之一。",options:["O","X"],correctIndex:0,explanation:""},
            {id:37,text:"有些原住民會用板岩當作建造石板屋的材料。",options:["O","X"],correctIndex:0,explanation:""},
            {id:38,text:"硬度是礦物抵抗磨損的能力。兩種礦物互相刻劃，硬度較小的會被劃出痕跡。",options:["O","X"],correctIndex:0,explanation:""},
            {id:39,text:"岩石和其中蘊藏的礦物，是人類經常利用的資源。",options:["O","X"],correctIndex:0,explanation:""},
            {id:40,text:"有些岩石和礦物的外形特殊、色澤美麗而且珍貴稀有，常做成各種飾品。",options:["O","X"],correctIndex:0,explanation:""},
            {id:41,text:"利用鐵釘刻劃石墨和石英，發現石英不會被刮損，但石墨會被刮損，表示石英的硬度比石墨大。",options:["O","X"],correctIndex:0,explanation:""},
            {id:42,text:"利用鐵釘刻劃石墨和石英，石墨會被刮損，石英卻不能被刮損，表示石墨的硬度比石英大。",options:["O","X"],correctIndex:1,explanation:""},
            {id:43,text:"人們常用硫磺作為建築房子的材料。",options:["O","X"],correctIndex:1,explanation:""},
            {id:44,text:"礦物是由一種或一種以上的岩石所組成的。",options:["O","X"],correctIndex:1,explanation:""},
            {id:45,text:"將二種礦物互相刻劃，可以比較出二者的硬度。",options:["O","X"],correctIndex:0,explanation:""},
            {id:46,text:"觀察礦物時，可以把礦物放進嘴巴裡嘗嘗味道。",options:["O","X"],correctIndex:1,explanation:""},
            {id:47,text:"硫磺是一種淡藍色的礦物，可以用來製造鉛筆的筆心。",options:["O","X"],correctIndex:1,explanation:""},
            {id:48,text:"石灰岩是製作粉筆的原料。",options:["O","X"],correctIndex:1,explanation:""},
            {id:49,text:"將滑石與石英互相刻劃，若滑石被刻劃出痕跡，表示滑石的硬度比石英大。",options:["O","X"],correctIndex:1,explanation:""},
            {id:50,text:"光皓拿了兩種不同的礦物互相刻劃，發現硬度比較小的礦物會被刮出一道道的刻痕。",options:["O","X"],correctIndex:0,explanation:""},
            {id:51,text:"將兩種不同的礦物互相刻劃，硬度比較大的礦物會被刮出刻痕。",options:["O","X"],correctIndex:1,explanation:""},
            {id:52,text:"地球上的礦物與岩石很多，只要有需要，可以無限制的開採與利用。",options:["O","X"],correctIndex:1,explanation:""},
            {id:53,text:"石英比石墨硬，拿兩者互相刻劃後，石英的表面會留下刻痕。",options:["O","X"],correctIndex:1,explanation:""},
            {id:54,text:"阿祥拿鐵釘可以在滑石上刮出刻痕，卻無法在石英上刮出刻痕，因此石英比鐵釘、滑石硬。",options:["O","X"],correctIndex:0,explanation:""},
            {id:55,text:"將石英和滑石互相刻劃，則滑石表面有刮痕，表示滑石硬度比石英小。",options:["O","X"],correctIndex:0,explanation:""},
            {id:56,text:"俊廷拿甲乙兩礦物互相刻劃，則甲礦物表面有刮痕，表示甲礦物的硬度比乙礦物大。",options:["O","X"],correctIndex:1,explanation:""},
            {id:57,text:"石灰岩是製作水泥的主要材料，它主要是由方解石組成的。",options:["O","X"],correctIndex:0,explanation:""},
            {id:58,text:"土地使用不當導致土壤遭到汙染，將會影響地球上生物的生存。",options:["O","X"],correctIndex:0,explanation:""},
            {id:59,text:"大雨、河流、海水甚至人為因素，都可能改變地形景觀。",options:["O","X"],correctIndex:0,explanation:""},
            {id:60,text:"曝露在空氣中的岩石長期受到陽光、空氣、水、生物活動或氣候冷熱變化等影響產生風化作用，岩石會變色或由堅硬變鬆散，最後碎裂成小顆粒。",options:["O","X"],correctIndex:0,explanation:""},
            {id:61,text:"「風化作用」是破壞岩石的一種作用，會使大塊的岩石最後粉碎成土壤。",options:["O","X"],correctIndex:0,explanation:""},
            {id:62,text:"有些岩石經風化後，形成像洋蔥狀一層一層剝落的現象。",options:["O","X"],correctIndex:0,explanation:""},
            {id:63,text:"岩石因風化作用，表面慢慢粉碎形成小石塊最後變土壤。",options:["O","X"],correctIndex:0,explanation:""},
            {id:64,text:"土壤是岩石經過風化作用後變成碎屑，和生物遺體腐化分解後的物質混合，經過長時間的作用而形成。",options:["O","X"],correctIndex:0,explanation:""},
            {id:65,text:"植物由根吸收土壤裡的礦物質，動物也間接攝取到這些維持生命的物質，對生物生存十分重要。",options:["O","X"],correctIndex:0,explanation:""},
            {id:66,text:"岩石風化後會變成顆粒較小的碎屑。",options:["O","X"],correctIndex:0,explanation:""},
            {id:67,text:"植物由根吸收土壤中的礦物質，動物食用植物時，也間接攝取到礦物質。",options:["O","X"],correctIndex:0,explanation:""},
            {id:68,text:"土壤中只包含岩石，因此無法在土壤中找到其他的東西。",options:["O","X"],correctIndex:1,explanation:""},
            {id:69,text:"土壤中含有岩石風化後所形成的碎屑。",options:["O","X"],correctIndex:0,explanation:""},
            {id:70,text:"如果沒有岩石風化形成土壤，樹木就無法在地底下紮根、吸取養分。",options:["O","X"],correctIndex:0,explanation:""},
            {id:71,text:"在河流的岸邊看到許多圓圓的鵝卵石，此處可能是河流的中游。",options:["O","X"],correctIndex:0,explanation:""},
            {id:72,text:"操作流水實驗時，被流水沖刷過的地方會形成一條一條突起的山脈。",options:["O","X"],correctIndex:1,explanation:""},
            {id:73,text:"在小土堆的上方澆水，無論澆水量大小，被沖下來的石頭大小都會一樣。",options:["O","X"],correctIndex:1,explanation:""},
            {id:74,text:"流水實驗時，從土堆上澆水，當土堆被水流過的地方會形成一條一條的溝紋。",options:["O","X"],correctIndex:0,explanation:""},
            {id:75,text:"流水會侵蝕土堆，顆粒愈小的泥土和砂石，愈容易被搬運、堆積到較遠的地方。",options:["O","X"],correctIndex:0,explanation:""},
            {id:76,text:"流水會侵蝕地表也能搬運泥土和砂石。",options:["O","X"],correctIndex:0,explanation:""},
            {id:77,text:"連日的豪雨容易引發土石流的災害。",options:["O","X"],correctIndex:0,explanation:""},
            {id:78,text:"用澆水器沖刷小土堆，可以從小土堆的狀況了解水流的大小。",options:["O","X"],correctIndex:0,explanation:""},
            {id:79,text:"在小土堆上方澆水，水量較小時，流水沖刷小土堆的力量比較大。",options:["O","X"],correctIndex:1,explanation:""},
            {id:80,text:"颱風帶來大量的雨水，可能造成土石流覆蓋山路，改變當地地形。",options:["O","X"],correctIndex:0,explanation:""},
            {id:81,text:"在小土堆的上方澆水，澆水量愈小，被沖下來的石頭可能愈大。",options:["O","X"],correctIndex:1,explanation:""},
            {id:82,text:"在小土堆的上方澆水，水量較小時，流水的速度比較慢。",options:["O","X"],correctIndex:0,explanation:""},
            {id:83,text:"同一條河流的上游、中游、下游景觀一致。",options:["O","X"],correctIndex:1,explanation:""},
            {id:84,text:"家均一家人利用假日，開車沿著同一條河流，從上游往下游開，發現岸邊的石頭愈來愈小。",options:["O","X"],correctIndex:0,explanation:""},
            {id:85,text:"小強乘著橡皮艇從上游往下游划，發現河水流速愈來愈快。",options:["O","X"],correctIndex:1,explanation:""},
            {id:86,text:"同一條河流，上游岸邊的石頭會比下游岸邊的石頭小。",options:["O","X"],correctIndex:1,explanation:""},
            {id:87,text:"河流中游旁的石頭大小會大於上游。",options:["O","X"],correctIndex:1,explanation:""},
            {id:88,text:"地表長時間受到河流的侵蝕、搬運和堆積等作用，會形成不同的地形景觀。",options:["O","X"],correctIndex:0,explanation:""},
            {id:89,text:"流水把地表上的泥沙、石塊等物質搬運到其他地方沉積，使地表改變了原來的樣貌。",options:["O","X"],correctIndex:0,explanation:""},
            {id:90,text:"河流上游大多是有稜有角的大石頭，地勢陡峭、河道狹窄、水流速度較急、河道較深。",options:["O","X"],correctIndex:0,explanation:""},
            {id:91,text:"河流中游堆積了很多圓圓的鵝卵石，地勢比較平緩、河道較寬、水流速度比上游慢。",options:["O","X"],correctIndex:0,explanation:""},
            {id:92,text:"河流下游布滿了小石頭和細沙，地勢平緩、河道寬廣、水流速度最緩慢。",options:["O","X"],correctIndex:0,explanation:""},
            {id:93,text:"易宏觀察整條河並記錄，發現河流下游布滿了小石頭和細沙，但水流速度是最快的。",options:["O","X"],correctIndex:1,explanation:""},
            {id:94,text:"彎彎曲曲的河流，可能是由於河道兩側水流速度不同而造成的。",options:["O","X"],correctIndex:0,explanation:""},
            {id:95,text:"河道彎曲處有凸岸和凹岸之分，凸岸的水流速度較慢，因此泥沙大部分會在這裡堆積。",options:["O","X"],correctIndex:0,explanation:""},
            {id:96,text:"河道的凹岸的水流速度較快，對河岸產生侵蝕作用，使河岸往後退，造成河道彎曲。",options:["O","X"],correctIndex:0,explanation:""},
            {id:97,text:"如果要在河邊搭建房屋，最好搭建在凹岸，土壤比較不容易被沖走。",options:["O","X"],correctIndex:1,explanation:""},
            {id:98,text:"可以由河岸兩邊的石頭大小，判斷位於河流的哪一個位置。",options:["O","X"],correctIndex:0,explanation:""},
            {id:99,text:"河流兩岸的石頭大小與水流的快慢、大小無關。",options:["O","X"],correctIndex:1,explanation:""},
            {id:100,text:"流水會產生的作用只有侵蝕作用與堆積作用。",options:["O","X"],correctIndex:1,explanation:""},
            {id:101,text:"河川上游的岩石顆粒最大，愈往下游岩石的顆粒愈小。",options:["O","X"],correctIndex:0,explanation:""},
            {id:102,text:"獻文從河流的下游往上游移動，他會看到沿岸的石頭愈來愈大。",options:["O","X"],correctIndex:0,explanation:""},
            {id:103,text:"河川上游的地形比較陡峭，水流也比較湍急。",options:["O","X"],correctIndex:0,explanation:""},
            {id:104,text:"小乖沿著河道行走，發現河邊石頭愈來愈大，他可能正朝向上游移動。",options:["O","X"],correctIndex:0,explanation:""},
            {id:105,text:"同一條河流，下游的河道比上游寬敞，下游的流速比上游快。",options:["O","X"],correctIndex:1,explanation:""},
            {id:106,text:"只有細沙和小石頭的河段應該是某一條河流的下游。",options:["O","X"],correctIndex:0,explanation:""},
            {id:107,text:"水由高處流下時會沖刷地面的泥沙或岩石，稱為搬運作用。",options:["O","X"],correctIndex:1,explanation:""},
            {id:108,text:"只有上游有侵蝕作用，中游不會有侵蝕作用。",options:["O","X"],correctIndex:1,explanation:""},
            {id:109,text:"水由高處往低處流，流水帶著泥沙和石塊流到比較低的地方，稱為侵蝕作用。",options:["O","X"],correctIndex:1,explanation:""},
            {id:110,text:"河水由高處往下流時，只會產生堆積和搬運作用。",options:["O","X"],correctIndex:1,explanation:""},
            {id:111,text:"水由高處往下流，流水中的泥沙因為流水速度變慢而漸漸產生沉積現象，稱為堆積作用。",options:["O","X"],correctIndex:0,explanation:""},
            {id:112,text:"水由高處往下流，流水帶著泥沙和石塊往低處流，稱為搬運作用。",options:["O","X"],correctIndex:0,explanation:""},
            {id:113,text:"下游的流水速度比較慢，侵蝕作用比較旺盛。",options:["O","X"],correctIndex:1,explanation:""},
            {id:114,text:"河流兩岸的景象與水流的強弱無關。",options:["O","X"],correctIndex:1,explanation:""},
            {id:115,text:"經由流水不斷的沖刷，會形成各式各樣的地形。",options:["O","X"],correctIndex:0,explanation:""},
            {id:116,text:"河流兩岸的景象會因為水流的沖刷而改變。",options:["O","X"],correctIndex:0,explanation:""},
            {id:117,text:"同一條河流，水流的速度愈快，侵蝕作用可能會愈明顯。",options:["O","X"],correctIndex:0,explanation:""},
            {id:118,text:"立煒郊遊時在河流旁看到像鵝蛋般大小的圓石，他現在可能在河流的下游。",options:["O","X"],correctIndex:1,explanation:""},
            {id:119,text:"整條河川中，下游的侵蝕作用是最旺盛的。",options:["O","X"],correctIndex:1,explanation:""},
            {id:120,text:"整條河的侵蝕、搬運、堆積作用不會同時作用。",options:["O","X"],correctIndex:1,explanation:""},
            {id:121,text:"同一條河流，從上游到下游的流速是相同的。",options:["O","X"],correctIndex:1,explanation:""},
            {id:122,text:"同一條河流，不管是在上游、中游或下游，觀賞到的地形景觀都是相同的。",options:["O","X"],correctIndex:1,explanation:""},
            {id:123,text:"均寶在同一條河流拍了一些照片，他可以利用拍到的石頭大小判斷是在上游、中游或下游拍攝的。",options:["O","X"],correctIndex:0,explanation:""},
            {id:124,text:"當河流的流水速度愈慢，堆積作用愈旺盛。",options:["O","X"],correctIndex:0,explanation:""},
            {id:125,text:"觀察河流的上游、中游、下游，發現下游的地形通常比較陡峭，水流也比較湍急。",options:["O","X"],correctIndex:1,explanation:""},
            {id:126,text:"流水產生的各項作用與水流的速度、水的流量有關。",options:["O","X"],correctIndex:0,explanation:""},
            {id:127,text:"觀察河流的上、中、下游，發現河床上堆積的石頭大小會有所不同。",options:["O","X"],correctIndex:0,explanation:""},
            {id:128,text:"當河水變得黃黃、濁濁的，表示流水搬運了許多小泥沙。",options:["O","X"],correctIndex:0,explanation:""},
            {id:129,text:"河川的流水到了下游時，因為水流變慢，所以搬運作用十分旺盛。",options:["O","X"],correctIndex:1,explanation:""},
            {id:130,text:"同一條河流下游的流水速度會比上游慢。",options:["O","X"],correctIndex:0,explanation:""},
            {id:131,text:"河流下游的水流平緩，因此搬運作用比較旺盛。",options:["O","X"],correctIndex:1,explanation:""},
            {id:132,text:"流水由高處流下時，只會發生堆積作用。",options:["O","X"],correctIndex:1,explanation:""},
            {id:133,text:null,options:["O","X"],correctIndex:0,explanation:""},
            {id:134,text:"河川的上游處的侵蝕作用比堆積作用旺盛，下游處則相反。",options:["O","X"],correctIndex:0,explanation:""},
            {id:135,text:"寶蓮和家人一起去河邊露營，寶蓮發現這附近幾乎是細沙，他們可能是選擇在這條河上游露營。",options:["O","X"],correctIndex:1,explanation:""},
            {id:136,text:"除了河流外，海水使地表形成各式各樣的海岸地形。",options:["O","X"],correctIndex:0,explanation:""},
            {id:137,text:"海浪侵蝕岩石形成海蝕地形，例如：新北市石門區的老梅里綠石槽。",options:["O","X"],correctIndex:0,explanation:""},
            {id:138,text:"海水把沙粒搬運到海岸堆積成沙灘。",options:["O","X"],correctIndex:0,explanation:""},
            {id:139,text:"夏日午後，世儀和家人到了黃金海岸戲水，而這美麗的沙灘是海水把沙粒搬運到海岸堆積成的。",options:["O","X"],correctIndex:0,explanation:""},
            {id:140,text:"墾丁美麗的白沙灣海灘，每年夏天吸引許多遊客造訪，而這沙灘是海水把沙粒搬運到海岸堆積的。",options:["O","X"],correctIndex:0,explanation:""},
            {id:141,text:"海水可以侵蝕改變海岸地形，但是河流的流水無法侵蝕而改變地形。",options:["O","X"],correctIndex:1,explanation:""},
            {id:142,text:"颱風帶來的豪雨可能造成溪水暴漲，導致溪邊的建築物因地基被掏空而倒塌。",options:["O","X"],correctIndex:0,explanation:""},
            {id:143,text:"颱風有時會帶來大量的雨水，並導致溪水暴漲，使得溪邊的建築物因為流水作用的影響而倒塌。",options:["O","X"],correctIndex:0,explanation:""},
            {id:144,text:"有些岩層經過流水長期的作用後，會產生簾幕式瀑布的特殊景觀。",options:["O","X"],correctIndex:0,explanation:""},
            {id:145,text:"流水可能會在岩石河床上產生漩渦，而河床則在長期的侵蝕後形成壺穴。",options:["O","X"],correctIndex:0,explanation:""},
            {id:146,text:"流水和風會對地表造成影響，並使地貌改變。",options:["O","X"],correctIndex:0,explanation:""},
            {id:147,text:"有些地表變化的主因是生物活動，例如：外傘頂洲的沙洲流失。",options:["O","X"],correctIndex:1,explanation:""},
            {id:148,text:"新北市的安山岩因為長期受東北季風的侵蝕，變成了外形為圓球狀的風稜石。",options:["O","X"],correctIndex:1,explanation:""},
            {id:149,text:"藻礁若受到人為建設的影響，可能會破壞而無法恢復原貌。",options:["O","X"],correctIndex:0,explanation:""},
            {id:150,text:"雲林外傘頂洲被稱作「流動國土」，目前因為流水作用和波浪的影響，面積逐漸擴大中。",options:["O","X"],correctIndex:1,explanation:""},
            {id:151,text:"一般來說，不會有兩種作用同時對自然景觀造成影響。",options:["O","X"],correctIndex:1,explanation:""},
            {id:152,text:"在「模擬河流地形受流水的影響」實驗中，模擬的河道的傾斜角度須固定。",options:["O","X"],correctIndex:0,explanation:""},
            {id:153,text:"在「模擬河流地形受流水的影響」實驗中，可以用牙籤當作標記物。",options:["O","X"],correctIndex:0,explanation:""},
            {id:154,text:"在「模擬河流地形受流水的影響」實驗中，量角器是用來當作標記物，藉以模擬河道兩旁的大石頭。",options:["O","X"],correctIndex:1,explanation:""},
            {id:155,text:"進行「模擬河流地形受流水的影響」實驗時，可以透過觀察標記物倒下的先後順序，來得知流水如何影響河道。",options:["O","X"],correctIndex:0,explanation:""},
            {id:156,text:"在「模擬河流地形受流水的影響」實驗中，河道的形狀和坡度屬於控制變因。",options:["O","X"],correctIndex:1,explanation:""},
            {id:157,text:"在海浪的沖刷下，海蝕崖可能會逐漸形成海蝕平臺。",options:["O","X"],correctIndex:0,explanation:""},
            {id:158,text:"岩石受到海浪的侵蝕後，較硬的部分可能會留下來，並形成海蝕溝。",options:["O","X"],correctIndex:0,explanation:""},
            {id:159,text:"海岸岩層長期受到海浪的侵蝕後，可能會形成海蝕拱門，例如：老梅綠石槽。",options:["O","X"],correctIndex:1,explanation:""},
            {id:160,text:"墾丁沙灘和鯨魚洞的形成主因都是海水的堆積作用。",options:["O","X"],correctIndex:1,explanation:""},
            {id:161,text:"屏東九棚大沙漠的特殊地形是由於強風將河口岸邊的沙堆積至高地所形成的。",options:["O","X"],correctIndex:0,explanation:""},
            {id:162,text:"海流可能會搬運岩石碎屑，並堆積成礫灘地形。",options:["O","X"],correctIndex:0,explanation:""},
            {id:163,text:"海蝕平臺是海蝕崖被海浪長期沖刷後所形成的地形，通常比海平面的高度高出許多。",options:["O","X"],correctIndex:1,explanation:""},
            {id:164,text:"我們應該好好保護自然界中的地形景觀，不可隨意破壞。",options:["O","X"],correctIndex:0,explanation:""},
            {id:165,text:"因為生物的活動量非常少，所以無法影響地貌。",options:["O","X"],correctIndex:1,explanation:""},
            {id:166,text:"海浪的侵蝕作用可以讓岩石的外形改變，形成像是鯨魚洞和老梅綠石槽等特殊的地景。",options:["O","X"],correctIndex:0,explanation:""},
            {id:167,text:"臺灣除了位居環太平洋地震帶，也在颱風侵襲的主要路徑上。",options:["O","X"],correctIndex:0,explanation:""},
            {id:168,text:"臺灣最常遇到的災害種類是水災。",options:["O","X"],correctIndex:1,explanation:""},
            {id:169,text:"臺灣會遇到的災害種類只會有颱風、地震和水災。",options:["O","X"],correctIndex:1,explanation:""},
            {id:170,text:"因為臺灣具有地質脆弱和山高水急等特性，所以發生天然災害時，災情往往非常嚴重。",options:["O","X"],correctIndex:0,explanation:""},
            {id:171,text:"我們可以到內政部消防署的網站上查詢臺灣會發生的天然災害類型。",options:["O","X"],correctIndex:0,explanation:""},
            {id:172,text:"山崩是指大片土石沿著山坡向下移動的現象，例如：落石、土石流等。",options:["O","X"],correctIndex:0,explanation:""},
            {id:173,text:"颱風襲臺時通常會帶來大量的雨水，讓河水的水位暴漲，甚至形成洪水。",options:["O","X"],correctIndex:0,explanation:""},
            {id:174,text:"臺灣的雨量稀少，所以不需要特別關注降雨帶來的災害。",options:["O","X"],correctIndex:1,explanation:""},
            {id:175,text:"當河流的水位暴漲而氾濫形成洪水時，可能會造成災害。",options:["O","X"],correctIndex:0,explanation:""},
            {id:176,text:"長時間缺少降水或是水源補充不足時，就有可能形成乾旱。",options:["O","X"],correctIndex:0,explanation:""},
            {id:177,text:"若臺灣長時間不下雨的話，就有可能會發生乾旱。",options:["O","X"],correctIndex:0,explanation:""},
            {id:178,text:"地震災情的嚴重性，通常與地震規模和震源深度有關。",options:["O","X"],correctIndex:0,explanation:""},
            {id:179,text:"地震發生的區域與震央的距離遠近，通常和災情的嚴重性無關。",options:["O","X"],correctIndex:1,explanation:""},
            {id:180,text:"當海水長時間與海岸產生交互作用時，灘地的寬度可能會縮減。",options:["O","X"],correctIndex:0,explanation:""},
            {id:181,text:"當海水導致海岸線持續後退時，可能會讓灘地面積逐漸縮小。",options:["O","X"],correctIndex:0,explanation:""},
            {id:182,text:"我們可以到衛生署的網站，查找「臺灣會遇到的天然災害」資料。",options:["O","X"],correctIndex:1,explanation:""},
            {id:183,text:"我們沒有辦法降低天然災害造成的破壞。",options:["O","X"],correctIndex:1,explanation:""},
            {id:184,text:"平時應認識和防災避難有關的資訊，當天然災害來臨時，就能確保自己和家人的安全。",options:["O","X"],correctIndex:0,explanation:""},
            {id:185,text:"岩石是組成地殼的主要物質。",options:["O","X"],correctIndex:0,explanation:""},
            {id:186,text:"我們能根據形成的原因來區別岩石的種類，例如：安山岩、大理岩和玄武岩都是火成岩。",options:["O","X"],correctIndex:1,explanation:""},
            {id:187,text:"頁岩是地表岩石碎屑經過侵蝕、搬運等作用後形成的岩石。",options:["O","X"],correctIndex:0,explanation:""},
            {id:188,text:"安山岩和花崗岩是岩漿侵入地殼內部冷卻後，凝固形成的。",options:["O","X"],correctIndex:0,explanation:""},
            {id:189,text:"片麻岩是岩石在經由高溫高壓後，原來結構或組織被改變後而形成的變質岩。",options:["O","X"],correctIndex:0,explanation:""},
            {id:190,text:"在連江縣龜島上可以觀察到花崗岩。",options:["O","X"],correctIndex:0,explanation:""},
            {id:191,text:"在高雄市壽山上能發現石灰岩的存在。",options:["O","X"],correctIndex:0,explanation:""},
            {id:192,text:"到澎湖旅行的話，可以在海邊觀察到特殊的玄武岩地形。",options:["O","X"],correctIndex:0,explanation:""},
            {id:193,text:"具有良好結晶型態的石墨被稱為「水晶」，常被加工成美麗的飾品。",options:["O","X"],correctIndex:1,explanation:""},
            {id:194,text:"因為硫磺的質地堅硬，所以原住民族常用它來當作建築石板屋的材料。",options:["O","X"],correctIndex:1,explanation:""},
            {id:195,text:"原住民族常用板岩來建築石板屋，是因為它質地堅硬且容易堆疊。",options:["O","X"],correctIndex:0,explanation:""},
            {id:196,text:"有些石英有良好的結晶型態，並被稱為「水晶」。",options:["O","X"],correctIndex:0,explanation:""},
            {id:197,text:"岩石經過風化作用後，可能會形成鉛筆狀的剝落。",options:["O","X"],correctIndex:0,explanation:""},
            {id:198,text:"岩石受到破壞後，表面的顏色可能會與破碎處不一樣。",options:["O","X"],correctIndex:0,explanation:""},
            {id:199,text:"土壤雖然對生物的生存十分重要，但因為形成時間短，所以不用特別珍惜。",options:["O","X"],correctIndex:1,explanation:""},
            {id:200,text:"土壤中不只有泥土，通常還有小石頭和動物遺體等物質。",options:["O","X"],correctIndex:0,explanation:""},
            {id:201,text:"觀察校園裡的土壤，通常會發現裡面只有泥土而已。",options:["O","X"],correctIndex:1,explanation:""},
            {id:202,text:"當看到岩石出現鉛筆狀剝落的現象時，表示它可能已經歷了風化作用。",options:["O","X"],correctIndex:0,explanation:""},
            {id:203,text:"如果想觀察化石的話，可以到博物館裡參觀。",options:["O","X"],correctIndex:0,explanation:""},
            {id:204,text:"因為植物無法形成化石，所以目前發現的化石是以動物為主。",options:["O","X"],correctIndex:1,explanation:""},
            {id:205,text:"化石是指古生物遺留在沉積岩中的遺骸或活動痕跡。",options:["O","X"],correctIndex:0,explanation:""},
            {id:206,text:"化石從保存類型上主要可分為實體化石和生痕化石兩大類。",options:["O","X"],correctIndex:0,explanation:""},
            {id:207,text:"生物活動時造成的痕跡屬於實體化石，例如：恐龍的足跡。",options:["O","X"],correctIndex:1,explanation:""},
            {id:208,text:"恐龍在活動時留下來的足跡不能算作化石。",options:["O","X"],correctIndex:1,explanation:""},
            {id:209,text:"生物身體中堅硬的部分可能會與周圍的物質產生石化作用，並形成化石。",options:["O","X"],correctIndex:0,explanation:""},
            {id:210,text:"科學家能透過化石推斷古生物的外形和身體構造等資訊。",options:["O","X"],correctIndex:0,explanation:""},
            {id:211,text:"我們無法藉由化石了解古生物的生活環境和生活方式。",options:["O","X"],correctIndex:1,explanation:""},
            {id:212,text:"如果想了解古生物的演化過程，可以經由埋藏化石的地層年代來推斷。",options:["O","X"],correctIndex:0,explanation:""},
            {id:213,text:"由古生物堅硬的部分和周圍物質產生石化作用後，形成的化石稱為生痕化石。",options:["O","X"],correctIndex:1,explanation:""},
            {id:214,text:"依照保存類型區分，恐龍的骨骼化石屬於實體化石。",options:["O","X"],correctIndex:0,explanation:""},
            {id:215,text:"除了動物的骨骼以外，其他生物都無法形成實體化石。",options:["O","X"],correctIndex:1,explanation:""},
            {id:216,text:"如果想知道化石是怎樣形成的，可以上網查詢相關影片。",options:["O","X"],correctIndex:0,explanation:""},
            {id:217,text:"在全民防災e點通的網站上，可以查到和防災避難相關的資料。",options:["O","X"],correctIndex:0,explanation:""},
            {id:218,text:"我們能透過防災地圖，規畫災難來臨時的避難路線。",options:["O","X"],correctIndex:0,explanation:""},
            {id:219,text:"我們可以到全民防災e點通網站查詢疏散避難地圖，事先為防災做好準備。",options:["O","X"],correctIndex:0,explanation:""},
            {id:220,text:"在查詢疏散避難地圖時，可能會發現自家附近有室內和室外的避難收容處所。",options:["O","X"],correctIndex:0,explanation:""},
            {id:221,text:"小明說：「我手上的礦物外表是黃色的」，請問他觀察的是哪一種礦物？　",options:["石英　","石墨　","硫磺　","雲母"],correctIndex:2,explanation:""},
            {id:222,text:"小刀比石墨硬，拿小刀刻劃石墨，何者會留下一道刮痕？　",options:["小刀　","石墨　","小刀和石墨都會被刮傷　","小刀和石墨都不會留下刮痕"],correctIndex:1,explanation:""},
            {id:223,text:"甲礦物的硬度比乙礦物的硬度大，乙礦物的硬度比丙礦物的硬度大，則將甲礦物和丙礦物互相刻劃，哪一個礦物上會留下刮痕？　",options:["甲礦物　","乙礦物　","丙礦物　","都不會留下刮痕"],correctIndex:2,explanation:""},
            {id:224,text:"流水會改變地表，當流水的流速愈來愈大時，會有什麼情況呢？　",options:["流水攜帶的泥沙量愈來愈多　","流水攜帶的泥沙量愈來愈少　","流水的搬運作用愈來愈弱　","流水的侵蝕作用愈來愈弱"],correctIndex:0,explanation:""},
            {id:225,text:"同一條河中，如果侵蝕作用比較明顯的河段，可以觀察到什麼特徵？　",options:["水流湍急　","地勢平坦　","兩岸布滿泥沙　","水流較慢"],correctIndex:0,explanation:""},
            {id:226,text:"瑩瑩走到了一段河道寬廣、有許多小石子和泥沙堆積的岸邊，這裡應該是河川的哪一個區段？　",options:["上游　","下游　","中游　","任一河段都有可能"],correctIndex:1,explanation:""},
            {id:227,text:"強尼一家人自河川的下游沿著馬路往上游開車，會看見岸邊的石頭有什麼樣的變化？　",options:["愈來愈大　","愈來愈小　","沒有變化　","不一定"],correctIndex:0,explanation:""},
            {id:228,text:"大軍在河岸邊種菜，你會請他選擇哪一邊比較適合呢？為什麼？　",options:["凸岸，堆積作用較強　","凹岸，侵蝕作用較強　","凸岸，搬運作用較強　","凹岸，堆積作用較強"],correctIndex:0,explanation:""},
            {id:229,text:"下列是小帆的出遊日記中他參觀到的景觀特色的描述，何者應該是指河川的上游？　",options:["河道寬廣且接近河口　","沿岸堆積許多鵝卵石　","水流非常緩慢　","地勢陡峭、河道狹窄"],correctIndex:3,explanation:""},
            {id:230,text:"下列哪一種方式不適合用來觀察岩石或礦物？　",options:["用放大鏡看一看　","摸一摸岩石的表面　","放入口中嘗一嘗味道　","搧聞氣味"],correctIndex:2,explanation:""},
            {id:231,text:"下列哪一項屬於岩石？　",options:["方解石　","雲母　","安山岩　","硫磺"],correctIndex:2,explanation:""},
            {id:232,text:"岩石是由什麼物質組成的？　",options:["玻璃　","礦物　","塑膠　","鋁"],correctIndex:1,explanation:""},
            {id:233,text:"人類經常使用下列哪一種物質做成建築材料？　",options:["滑石　","花崗岩　","雲母　","硫磺"],correctIndex:1,explanation:""},
            {id:234,text:"花崗岩的組成物質中沒有下列哪一項？　",options:["黑雲母　","石英　","玄武岩　","長石"],correctIndex:2,explanation:""},
            {id:235,text:"下列哪一項是岩石？　",options:["片麻岩　","雲母　","石墨　","方解石"],correctIndex:0,explanation:""},
            {id:236,text:"下列哪一種物質是由多種礦物所構成的？　",options:["硫磺　","雲母　","花岡岩　","石墨"],correctIndex:2,explanation:""},
            {id:237,text:"哪一種礦物的顏色是黃色的？　",options:["滑石　","硫磺　","方解石　","石墨"],correctIndex:1,explanation:""},
            {id:238,text:"下列哪一種礦物的外表顏色是黑色的？　",options:["石墨　","石英　","硫磺　","方解石"],correctIndex:0,explanation:""},
            {id:239,text:"下列四種物質，哪一種是屬於礦物呢？　",options:["石灰岩　","方解石　","花崗岩　","玄武岩"],correctIndex:1,explanation:""},
            {id:240,text:"小貝想要觀察桌上的礦物，請問哪一種做法最不適當？　",options:["用手觸摸　","用放大鏡觀察　","在瓷磚背面刻劃　","用火燒看看"],correctIndex:3,explanation:""},
            {id:241,text:"不可以使用什麼方法觀察礦物？　",options:["摸摸看　","互相刻劃觀察硬度　","搧聞氣味　","嘗嘗看味道"],correctIndex:3,explanation:""},
            {id:242,text:"下列哪一個小朋友提議觀察礦物的方式不適合？　",options:["沐沐：用放大鏡觀察礦物的外表　","優優：用手摸摸看顆粒粗細　","樂樂：搧聞氣味　","米米：用牙齒咬比較硬度"],correctIndex:3,explanation:""},
            {id:243,text:"老師拿了四種物質讓學生觀察，請問哪一個不是礦物呢？　",options:["石墨　","石英　","石灰岩　","滑石"],correctIndex:2,explanation:""},
            {id:244,text:"將兩種不同的礦物相互刻劃，可以得知礦物的哪一項特徵？　",options:["顏色　","硬度　","重量　","形狀"],correctIndex:1,explanation:""},
            {id:245,text:"將甲礦物與乙礦物互相刻劃，甲礦物的表面被磨損，乙礦物的表面沒有刮痕，兩種礦物中哪一個比較硬？　",options:["甲礦物　","乙礦物　","兩種礦物硬度相同　","資料不足，無法判斷"],correctIndex:1,explanation:""},
            {id:246,text:"哪一種礦物可以用來做成火藥？　",options:["硫磺　","石墨　","石英　","方解石"],correctIndex:0,explanation:""},
            {id:247,text:"石墨是製作哪一種物品的原料？　",options:["鞭炮　","鉛筆筆心　","粉筆　","電的絕緣材料"],correctIndex:1,explanation:""},
            {id:248,text:"滑石比石英軟，拿石英刻劃滑石，何者會留下刮痕？　",options:["滑石　","石英　","滑石和石英都會留下刮痕　","滑石和石英都不會留下刮痕"],correctIndex:0,explanation:""},
            {id:249,text:"進行礦物硬度的實驗時，得到的結果是石英＞方解石＞硫磺＞滑石時，表示硫磺可以刮損哪一種礦物？　",options:["石英　","方解石　","鑽石　","滑石"],correctIndex:3,explanation:""},
            {id:250,text:"下列哪一種礦物具有光澤，可以被一片一片的剝下來？　",options:["雲母　","石膏　","滑石　","方解石"],correctIndex:0,explanation:""},
            {id:251,text:"兩種不同硬度的礦物互相刻劃，哪一種礦物的表面會留下刻痕？　",options:["較硬的　","較軟的　","兩者都會　","兩者都不會"],correctIndex:1,explanation:""},
            {id:252,text:"岩石受到風化的影響後，會產生什麼變化？　",options:["變得更堅硬　","體積變大　","溫度變高　","變成碎屑"],correctIndex:3,explanation:""},
            {id:253,text:"岩石長期受到風化作用的影響，會有什麼改變？　",options:["岩石的結構變堅硬　","岩石變成碎屑　","岩石的顏色變深　","岩石變得更大"],correctIndex:1,explanation:""},
            {id:254,text:"自然界「土壤」的組成不包含下列哪一項物質？　",options:["岩石風化的碎屑　","礦物的碎屑　","生物遺體腐爛的物質　","保麗龍"],correctIndex:3,explanation:""},
            {id:255,text:"進行流水實驗時，不需要下列哪一種物品？　",options:["泥土　","沙子　","小石子　","手電筒"],correctIndex:3,explanation:""},
            {id:256,text:"河川中，何處的侵蝕作用最明顯？　",options:["上游　","中游　","下游　","河川中沒有侵蝕作用"],correctIndex:0,explanation:""},
            {id:257,text:"河流下游的流水速度很慢，因此下列哪一種作用可能最旺盛？　",options:["光合作用　","侵蝕作用　","搬運作用　","堆積作用"],correctIndex:3,explanation:""},
            {id:258,text:"河流各區域中，水流較緩慢的區域有什麼特色呢？　",options:["地勢陡峭　","岸邊石頭較大　","岸邊泥沙較多　","侵蝕作用旺盛"],correctIndex:2,explanation:""},
            {id:259,text:"河川中，哪一個區段的搬運作用最明顯？　",options:["下游　","中游　","上游　","河川中沒有搬運作用"],correctIndex:1,explanation:""},
            {id:260,text:"當流水的流速減緩時，下列敘述何者正確？　",options:["流水的侵蝕作用變弱　","流水的搬運作用變強　","流水的堆積作用變弱　","流水攜帶的泥沙量變多"],correctIndex:0,explanation:""},
            {id:261,text:"下列哪一種原因是造成河流每一段景觀會不同的主因？　",options:["流水的力量　","太陽照射的角度　","生長的植物種類不同　","氣溫的高低不同"],correctIndex:0,explanation:""},
            {id:262,text:"同一條河流中，哪一個區段的堆積作用最旺盛？　",options:["下游　","中游　","上游　","河流各段的堆積作用都一樣旺盛"],correctIndex:0,explanation:""},
            {id:263,text:"將河川的侵蝕作用由強到弱依序排列，下列哪一項是正確的？　",options:["下游、中游、上游　","上游、中游、下游　","下游、上游、中游　","上游、下游、中游"],correctIndex:1,explanation:""},
            {id:264,text:"在流水實驗中，使用澆水器澆水的主要目的是什麼？　",options:["模擬下雨　","使土壤保持溼潤　","增加土壤的溼度　","沒有任何目的"],correctIndex:0,explanation:""},
            {id:265,text:"下列哪一種作用不會在河流各區域發生？　",options:["蒸散作用　","侵蝕作用　","搬運作用　","堆積作用"],correctIndex:0,explanation:""},
            {id:266,text:"同一條河流，如果堆積作用比較明顯的區段有什麼特色？　",options:["水流快速　","地勢陡峭　","岸邊的石頭較大　","水流較慢"],correctIndex:3,explanation:""},
            {id:267,text:"進行流水實驗時，發現小砂石在比較遠的地方堆積起來，表示哪一種流水作用在比較遠的地方較旺盛？　",options:["侵蝕作用　","搬運作用　","堆積作用　","以上作用都很旺盛"],correctIndex:2,explanation:""},
            {id:268,text:"進行流水實驗時，沖刷前和沖刷後的小土堆有什麼不同？　",options:["沖刷後的小土堆高度較高　","沖刷後的小土堆下方有許多泥沙　","沖刷前的小土堆有許多流水形成的溝紋　","沖刷前的小土堆坡度較平緩"],correctIndex:1,explanation:""},
            {id:269,text:"在河流的哪一個區段，最容易看到許多巨大的石塊？　",options:["上游　","中游　","下游　","河流的每一段都有巨大石塊"],correctIndex:0,explanation:""},
            {id:270,text:"河流哪一個區段的岸邊經常可以見到圓圓的鵝卵石？　",options:["上游　","下游　","中游　","河流的任何一段都可見到鵝卵石"],correctIndex:2,explanation:""},
            {id:271,text:"下列哪一種景觀描述通常不會出現在河川的上游區域？　",options:["地勢陡峭　","石頭巨大　","流水湍急　","河道寬廣"],correctIndex:3,explanation:""},
            {id:272,text:"在同一條河川中，哪一個區段的水流最緩慢、地勢較平坦？　",options:["上游　","中游　","下游　","河川的每一段水流都很緩慢、地勢也很平坦"],correctIndex:2,explanation:""},
            {id:273,text:"小惠自河川的上游往下游走，會看見河岸邊的石頭有什麼樣的變化？　",options:["愈來愈大　","愈來愈小　","沒有變化　","不一定"],correctIndex:1,explanation:""},
            {id:274,text:"在河川中的哪一個區段，水流最湍急、地勢較陡峭？　",options:["上游　","中游　","下游　","河川的每一段水流都很湍急、地勢都很陡峭"],correctIndex:0,explanation:""},
            {id:275,text:"「持續性豪雨所造成的土石流沖毀了△△山○○村的聯外道路，村裡的部分民宅也遭土石淹沒。所幸該村居民已於農委會發布土石流警戒預報時即先行撤離，故未有人員傷亡」下列敘述哪一項錯誤？　",options:["土石流是由於水將泥沙和土塊等物質搬運到其他地方而造成的　","土石流在移動時，可能會對地表產生侵蝕作用　","土石流的速度減慢後，裡面夾帶的泥沙和土塊會漸漸沉積下來　","如果山坡地的坡度愈陡峭，發生土石流的機會就愈小"],correctIndex:3,explanation:""},
            {id:276,text:"關於河流上游的敘述哪一項正確？　",options:["河道寬　","水流速度較慢　","地勢陡峭　","布滿細沙"],correctIndex:2,explanation:""},
            {id:277,text:"下列哪項物質不是化石？　",options:["海膽的印痕　","魚類的骨骼　","玻璃的餐具　","恐龍的牙齒"],correctIndex:2,explanation:""},
            {id:278,text:"生痕化石中通常不會出現什麼樣的化石？　",options:["模體　","鑄型　","無硬殼生物的軟體印痕　","生物遺體中堅硬的部分"],correctIndex:3,explanation:""},
            {id:279,text:"「魚的骨骼、樹的枝葉、恐龍的腳印、貝類的移動痕跡」以上共有幾種化石屬於實體化石？　",options:["1種　","2種　","3種　","4種"],correctIndex:1,explanation:""},
            {id:280,text:"關於下列地形的成因，哪一項和「生物活動」最有關？　",options:["藻礁　","壺穴　","風稜石　","外傘頂洲"],correctIndex:0,explanation:""},
            {id:281,text:"關於改變自然景觀的原因，如果以作用力的類型來看，下列哪一種地形的成因與其他三者不同？　",options:["壺穴　","風稜石　","外傘頂洲　","簾幕式瀑布"],correctIndex:1,explanation:""},
            {id:282,text:"下列何者是簾幕式瀑布的主要成因？　",options:["流水帶來砂石，並在岩石上產生漩渦　","溪水暴漲後，大量流水沖刷而成　","河床中，部分岩層較堅硬，不易被水侵蝕　","人為建設和沿海漂沙等因素導致"],correctIndex:2,explanation:""},
            {id:283,text:"下列何者是壺穴的主要成因？　",options:["人為建設和沿海漂沙　","沙源減少以及海浪沖刷　","溪水暴漲後，大量流水沖刷地表　","流水帶來的砂石在岩石上產生漩渦"],correctIndex:3,explanation:""},
            {id:284,text:"雲林外傘頂洲面積逐漸縮小的主要原因是什麼？　",options:["溪水暴漲後，大量流水沖刷此處　","東北季風夾帶砂石，磨蝕地表岩層　","沙源減少，加上海浪和海流的影響　","人為建設和沿海漂沙"],correctIndex:2,explanation:""},
            {id:285,text:"下列何者是風稜石的主要成因？　",options:["東北季風夾帶砂石後，岩石受到磨蝕而形成　","人為建設和沿海漂沙等因素影響　","河床中的的部分岩層堅硬，不易被水侵蝕　","溪水暴漲後，大量流水沖刷岩石"],correctIndex:0,explanation:""},
            {id:286,text:"下列何者是造成藻礁被破壞的主要原因？　",options:["溪水暴漲後，流水沖刷地表　","人為建設和沿海漂沙等　","東北季風夾帶砂石，導致岩層被磨蝕　","沙源減少，加上海浪和海流的沖刷"],correctIndex:1,explanation:""},
            {id:287,text:"在「模擬河流地形受流水的影響」實驗中，可以透過下列何者來了解河道受到水流影響的變化情形？\u000bㄅ.標記物倒下的先後順序\u000bㄆ.標記物與河道距離變化\u000bㄇ.河道邊緣泥土的變化　",options:["只有ㄅ　","只有ㄆㄇ　","只有ㄅㄇ　","ㄅㄆㄇ"],correctIndex:3,explanation:""},
            {id:288,text:"操作「模擬河流地形受流水的影響」實驗時，不須準備下列哪項材料？　",options:["牙籤　","鐵尺　","量角器　","砂石"],correctIndex:1,explanation:""},
            {id:289,text:"在「模擬河流地形受流水的影響」的實驗中，下列何者不屬於控制變因？　",options:["河道的形狀　","土堆的坡度　","放置的標記物　","澆水時的速度"],correctIndex:0,explanation:""},
            {id:290,text:"在「模擬河流地形受流水的影響」實驗中，下列何者是應變變因？　",options:["土堆的高度　","河道的形狀　","河道變化情形　","河道的製作材料"],correctIndex:2,explanation:""},
            {id:291,text:"在「模擬河流地形受流水的影響」實驗中，下列何者屬於操縱變因？　",options:["放置的標記物　","河道變化情形　","土堆的坡度　","河道的形狀"],correctIndex:3,explanation:""},
            {id:292,text:"下列哪種地形的形成原因主要是和海水的堆積作用有關？　",options:["礫石灘　","海蝕崖　","海蝕拱門　","海蝕平臺"],correctIndex:0,explanation:""},
            {id:293,text:"下列哪種地形主要是由海水的侵蝕作用所形成的？　",options:["沙灘　","沙洲　","海蝕溝　","大沙漠"],correctIndex:2,explanation:""},
            {id:294,text:"「老梅綠石槽、鯨魚洞、九棚大沙漠、墾丁沙灘」，以上有幾個景點是由海浪的侵蝕作用所形成的？　",options:["1個　","2個　","3個　","4個"],correctIndex:1,explanation:""},
            {id:295,text:"「流水、風、波浪、生物活動」，以上有幾項會對地貌造成影響？　",options:["1項　","2項　","3項　","4項"],correctIndex:3,explanation:""},
            {id:296,text:"關於海蝕溝的敘述，下列何者正確？　",options:["只和海水的搬運作用有關係　","老梅綠石槽屬於這種類型的地形　","成因和海浪沖刷岩石時，會留下較柔軟的部分有關　","是強風將河口的沙吹到岸邊堆積所形成的"],correctIndex:1,explanation:""},
            {id:297,text:"臺灣具有什麼特性，導致發生天然災害時，災情往往十分嚴重？　",options:["地質堅硬　","蓄水量充足　","山高水急　","土地開發度低"],correctIndex:2,explanation:""},
            {id:298,text:"下列哪一個是臺灣較常遇到的天然災害？　",options:["寒流　","颱風　","山崩　","水災"],correctIndex:1,explanation:""},
            {id:299,text:"下列哪一項不是山崩包含的部分？　",options:["乾旱　","地滑　","落石　","土石流"],correctIndex:0,explanation:""},
            {id:300,text:"下列哪種天然災害通常會讓河水水位暴漲，甚至氾濫形成洪水？　",options:["乾旱　","地震　","颱風　","地滑"],correctIndex:2,explanation:""},
            {id:301,text:"當臺灣長時間不下雨時，通常會引起哪種天然災害？　",options:["乾旱　","海嘯　","落石　","洪水"],correctIndex:0,explanation:""},
            {id:302,text:"下列哪種岩石不屬於火成岩？　",options:["大理岩　","安山岩　","花崗岩　","玄武岩"],correctIndex:0,explanation:""},
            {id:303,text:"哪一種岩石不是沉積岩？　",options:["頁岩　","板岩　","砂岩　","石灰岩"],correctIndex:1,explanation:""},
            {id:304,text:"如果依成因來看，下列哪種岩石不是變質岩？　",options:["板岩　","大理岩　","石灰岩　","片麻岩"],correctIndex:2,explanation:""},
            {id:305,text:"下列哪種岩石屬於變質岩？　",options:["石灰岩　","玄武岩　","安山岩　","大理岩"],correctIndex:3,explanation:""},
            {id:306,text:"哪一種岩石是火成岩？　",options:["花崗岩　","大理岩　","板岩　","砂岩"],correctIndex:0,explanation:""},
            {id:307,text:"下列哪種岩石被分類為「沉積岩」？　",options:["片麻岩　","石灰岩　","大理岩　","花崗岩"],correctIndex:1,explanation:""},
            {id:308,text:"原住民族常用下列哪種礦物或岩石來建築石板屋？　",options:["石墨　","硫磺　","板岩　","方解石"],correctIndex:2,explanation:""},
            {id:309,text:"下列哪種礦物或岩石有時會具有良好的結晶型態，並被稱為「水晶」？　",options:["石灰岩　","花崗岩　","石墨　","石英"],correctIndex:3,explanation:""},
            {id:310,text:"下列哪種礦物或岩石如果結晶型態良好，通常會被加工成漂亮的飾品？　",options:["硫磺　","板岩　","石英　","石墨"],correctIndex:2,explanation:""},
            {id:311,text:"下列哪種礦物或岩石因為堅硬且容易堆疊，所以能拿來建築石板屋？　",options:["滑石　","硫磺　","石灰岩　","板岩"],correctIndex:3,explanation:""},
            {id:312,text:"岩石經過風化作用後，較不可能發生下列哪種情況？　",options:["與周圍的石頭合體　","破碎處與表面顏色不同　","形成鉛筆狀剝落　","形成洋蔥狀剝落"],correctIndex:0,explanation:""},
            {id:313,text:"土壤的構成中通常沒有下列哪個物質？　",options:["動物遺體　","腐爛的葉　","岩石碎屑　","以上都可能是構成土壤的物質"],correctIndex:3,explanation:""},
            {id:314,text:"恐龍的足跡屬於哪一種類型的化石？　",options:["生痕化石　","實體化石　","身體化石　","痕跡化石"],correctIndex:0,explanation:""},
            {id:315,text:"下列哪種化石不屬於實體化石？　",options:["魚的骨骼　","恐龍足跡　","植物的枝葉　","龜的外殼"],correctIndex:1,explanation:""},
            {id:316,text:"下列哪種化石被分類為「生痕化石」？　",options:["植物的枝葉　","恐龍的骨骼　","生物的印痕　","魚類的牙齒"],correctIndex:2,explanation:""},
            {id:317,text:"下列哪項和古生物有關的資訊無法透過化石推斷？　",options:["身體結構　","生活方式　","生活環境　","交友關係"],correctIndex:3,explanation:""},
            {id:318,text:"下列哪項資訊能推測出古生物的演化過程？　",options:["埋藏化石的地層年代　","化石附近的石頭大小　","找到化石時的天氣狀況　","化石附近的河水深度"],correctIndex:0,explanation:""},
            {id:319,text:"關於古生物的資訊，下列何者能透過埋藏化石的地層年代來推斷？　",options:["生活方式　","演化過程　","外形樣貌　","生活環境"],correctIndex:1,explanation:""}
        ];

        // --- 圖示組件 ---
        const Icons = {
            Globe: ({className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><path d="M2 12h20"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>,
            Activity: ({size=24, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>,
            Mountain: ({size=24, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m8 3 4 8 5-5 5 15H2L8 3z"/></svg>,
            Gem: ({size=24, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M6 3h12l4 6-10 13L2 9Z"/><path d="M11 3 8 9l4 13 4-13-3-6"/></svg>,
            Pickaxe: ({size=24, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M14.5 5.5C18.5 2.5 22 2 22 2a6 6 0 0 0-6 6c0 0 .5 3.5-2.5 7.5"/><path d="M16.5 7.5 14 5"/><path d="M22 2 12.5 11.5"/><path d="m5 14-2 2 3 3 2-2"/><path d="m9 18-3 3 5 5 3-3"/></svg>,
            AlertCircle: ({size=24, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><line x1="12" x2="12" y1="8" y2="12"/><line x1="12" x2="12.01" y1="16" y2="16"/></svg>,
            ChevronRight: ({className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m9 18 6-6-6-6"/></svg>,
            ChevronLeft: ({size=24, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m15 18-6-6 6-6"/></svg>,
            CheckCircle: ({className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>,
            XCircle: ({className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6"/><path d="m9 9 6 6"/></svg>,
            Trophy: ({size=24, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/></svg>,
            RefreshCw: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/></svg>,
            History: ({size=24, className=""}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M3 3v5h5"/><path d="M3.05 13A9 9 0 1 0 6 5.3L3 8"/><path d="M12 7v5l4 2"/></svg>,
            Trash2: ({size=20}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" x2="10" y1="11" y2="17"/><line x1="14" x2="14" y1="11" y2="17"/></svg>
        };

        const QuizApp = () => {
            const [gameState, setGameState] = useState('start');
            const [quizQuestions, setQuizQuestions] = useState([]);
            const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);
            const [score, setScore] = useState(0);
            const [selectedOption, setSelectedOption] = useState(null);
            const [showFeedback, setShowFeedback] = useState(false);
            const [feedback, setFeedback] = useState({ isCorrect: false, text: '' });
            const [history, setHistory] = useState([]);

            useEffect(() => {
                const savedHistory = localStorage.getItem('quizHistory');
                if (savedHistory) {
                    setHistory(JSON.parse(savedHistory));
                }
            }, []);

            const formatDate = (date) => {
                const pad = (n) => n.toString().padStart(2, '0');
                return `${date.getFullYear()}-${pad(date.getMonth() + 1)}-${pad(date.getDate())} ${pad(date.getHours())}:${pad(date.getMinutes())}:${pad(date.getSeconds())}`;
            };

            const shuffleArray = (array) => {
                const newArray = [...array];
                for (let i = newArray.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
                }
                return newArray;
            };

            const startGame = () => {
                const shuffledQuestions = shuffleArray(fullQuestionPool);
                const selectedQuestions = shuffledQuestions.slice(0, 20);
                setQuizQuestions(selectedQuestions);
                setScore(0);
                setCurrentQuestionIndex(0);
                setGameState('quiz');
                setShowFeedback(false);
                setSelectedOption(null);
            };

            const handleOptionClick = (index) => {
                if (showFeedback) return;
                setSelectedOption(index);
                setShowFeedback(true);
                const currentQ = quizQuestions[currentQuestionIndex];
                const isCorrect = index === currentQ.correctIndex;
                if (isCorrect) {
                    setScore(prev => prev + 5);
                    setFeedback({ isCorrect: true, text: "答對了！ (+5分)" });
                } else {
                    setFeedback({ isCorrect: false, text: "答錯囉！" });
                }
            };

            const nextQuestion = () => {
                if (currentQuestionIndex < quizQuestions.length - 1) {
                    setCurrentQuestionIndex(prev => prev + 1);
                    setShowFeedback(false);
                    setSelectedOption(null);
                } else {
                    finishGame();
                }
            };

            const getRank = (currentScore) => {
                const safeScore = Math.max(0, Math.min(100, currentScore));
                const index = Math.floor(safeScore / 5);
                return rankDefinitions[index] || rankDefinitions[rankDefinitions.length - 1];
            };

            const finishGame = () => {
                const rank = getRank(score);
                const now = new Date();
                const newRecord = {
                    date: formatDate(now),
                    score: score,
                    title: rank.title,
                    color: rank.color,
                    timestamp: now.getTime()
                };
                const updatedHistory = [newRecord, ...history];
                setHistory(updatedHistory);
                localStorage.setItem('quizHistory', JSON.stringify(updatedHistory));
                setGameState('result');
            };

            // 修改後的清除紀錄函式
            const clearHistory = () => {
                // 不顯示任何密碼提示語
                const password = prompt("");
                if (password === "7772041") {
                    if (confirm("確定要刪除所有紀錄嗎？此動作無法復原。")) {
                        setHistory([]);
                        localStorage.removeItem('quizHistory');
                        alert("紀錄已刪除");
                    }
                } 
                // 移除密碼錯誤的 alert，符合隱密需求
            };

            return (
                <div className="min-h-screen bg-slate-100 font-sans text-slate-800 flex flex-col items-center justify-center p-4">
                <div className="w-full max-w-2xl bg-white rounded-2xl shadow-xl overflow-hidden border-4 border-slate-200">
                    
                    <div className="bg-slate-700 p-6 text-center relative">
                    <h1 className="text-2xl md:text-3xl font-bold text-white flex items-center justify-center gap-2">
                        <Icons.Globe className="text-blue-400"/> 變動的大地挑戰賽
                    </h1>
                    <div className="absolute top-6 right-6 text-slate-300 text-sm font-mono hidden md:block">
                        {gameState === 'history' ? '歷史紀錄' : (gameState === 'quiz' ? '隨機題庫模式' : '319題庫版')}
                    </div>
                    </div>

                    <div className="p-6 md:p-8 min-h-[450px] flex flex-col justify-center">
                    
                    {gameState === 'start' && (
                        <div className="text-center space-y-8 animate-fade-in">
                        <div className="flex justify-center text-slate-600 mb-4 relative">
                            <Icons.Activity size={80} className="text-red-500" />
                            <Icons.Mountain size={40} className="absolute -bottom-2 -right-2 text-slate-400" />
                        </div>
                        <div className="space-y-4">
                            <h2 className="text-2xl font-bold text-slate-800">準備好接受地質挑戰了嗎？</h2>
                            <div className="bg-emerald-50 p-4 rounded-xl border border-emerald-100 text-left space-y-2">
                            <div className="flex items-start gap-3">
                                <Icons.AlertCircle size={20} className="text-emerald-600 mt-1 flex-shrink-0" />
                                <p className="text-slate-700">本測驗題庫包含 <span className="font-bold text-emerald-700">{fullQuestionPool.length}</span> 道關於岩石、礦物、板塊與地質作用的題目。</p>
                            </div>
                            <div className="flex items-start gap-3">
                                <Icons.AlertCircle size={20} className="text-emerald-600 mt-1 flex-shrink-0" />
                                <p className="text-slate-700">每次隨機抽選 <span className="font-bold text-emerald-700">20</span> 題，每題 <span className="font-bold text-emerald-700">5</span> 分，挑戰成為大地的王者！</p>
                            </div>
                            </div>
                        </div>
                        <div className="flex flex-col gap-3">
                            <button onClick={startGame} className="w-full py-4 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl text-xl font-bold transition-all transform hover:scale-105 shadow-lg flex items-center justify-center gap-2 group">
                                開始挑戰 <Icons.ChevronRight className="group-hover:translate-x-1 transition-transform"/>
                            </button>
                            <button onClick={() => setGameState('history')} className="w-full py-3 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded-xl text-lg font-bold transition-colors flex items-center justify-center gap-2">
                                <Icons.History size={20}/> 查看我的成就紀錄
                            </button>
                        </div>
                        </div>
                    )}

                    {gameState === 'quiz' && quizQuestions.length > 0 && (
                        <div className="space-y-6 animate-fade-in">
                        <div className="space-y-2">
                            <div className="flex justify-between items-center text-sm font-bold text-slate-500">
                            <span>Question {currentQuestionIndex + 1} / {quizQuestions.length}</span>
                            <span className="bg-slate-100 px-3 py-1 rounded-full text-slate-600">得分: {score}</span>
                            </div>
                            <div className="w-full bg-slate-200 h-3 rounded-full overflow-hidden">
                            <div className="bg-emerald-500 h-full transition-all duration-500 ease-out" style={{ width: `${((currentQuestionIndex + 1) / quizQuestions.length) * 100}%` }}></div>
                            </div>
                        </div>
                        <div className="min-h-[80px]">
                            <h2 className="text-xl md:text-2xl font-bold text-slate-800 leading-relaxed">
                            {quizQuestions[currentQuestionIndex].text}
                            </h2>
                        </div>
                        <div className="grid gap-3">
                            {quizQuestions[currentQuestionIndex].options.map((option, idx) => {
                            let btnClass = "w-full p-4 text-left text-lg rounded-xl border-2 transition-all font-medium relative overflow-hidden ";
                            if (!showFeedback) {
                                btnClass += "bg-white border-slate-200 hover:border-emerald-500 hover:bg-emerald-50 text-slate-700 hover:shadow-md";
                            } else {
                                if (idx === quizQuestions[currentQuestionIndex].correctIndex) {
                                btnClass += "bg-emerald-100 border-emerald-500 text-emerald-900";
                                } else if (idx === selectedOption) {
                                btnClass += "bg-red-100 border-red-500 text-red-900";
                                } else {
                                btnClass += "bg-slate-50 border-slate-100 text-slate-300 opacity-60";
                                }
                            }
                            return (
                                <button key={idx} disabled={showFeedback} onClick={() => handleOptionClick(idx)} className={btnClass}>
                                <div className="flex justify-between items-center relative z-10">
                                    <span>{option}</span>
                                    {showFeedback && idx === quizQuestions[currentQuestionIndex].correctIndex && <Icons.CheckCircle className="text-emerald-600" />}
                                    {showFeedback && idx === selectedOption && idx !== quizQuestions[currentQuestionIndex].correctIndex && <Icons.XCircle className="text-red-600" />}
                                </div>
                                </button>
                            );
                            })}
                        </div>
                        {showFeedback && (
                            <div className="animate-slide-up bg-slate-50 p-5 rounded-xl border border-slate-200 mt-4 shadow-inner">
                            <div className="flex items-center gap-2 mb-2">
                                {feedback.isCorrect ? <span className="bg-emerald-100 text-emerald-700 px-3 py-1 rounded-full text-sm font-bold">Correct (+5分)</span> : <span className="bg-red-100 text-red-700 px-3 py-1 rounded-full text-sm font-bold">Wrong</span>}
                            </div>
                            <div className={`font-bold text-lg mb-2 ${feedback.isCorrect ? 'text-emerald-700' : 'text-red-700'}`}>{feedback.text}</div>
                            <div className="text-slate-600 text-base leading-relaxed"><span className="font-bold text-slate-700">正確答案：</span>{quizQuestions[currentQuestionIndex].options[quizQuestions[currentQuestionIndex].correctIndex]}</div>
                            <button onClick={nextQuestion} className="mt-4 w-full py-3 bg-slate-800 hover:bg-black text-white rounded-lg font-bold flex items-center justify-center gap-2 transition-colors">
                                {currentQuestionIndex < quizQuestions.length - 1 ? '下一題' : '查看結果'} <Icons.ChevronRight size={18} />
                            </button>
                            </div>
                        )}
                        </div>
                    )}

                    {gameState === 'result' && (
                        <div className="text-center space-y-8 animate-fade-in py-4">
                        <div className="relative inline-block">
                            <div className="text-6xl p-4 rounded-full bg-slate-50 border-4 border-dashed border-slate-200">
                            <Icons.Trophy size={64} className={getRank(score).color} />
                            </div>
                        </div>
                        <div className="space-y-1">
                            <p className="text-slate-500 font-medium uppercase tracking-wider text-sm">Final Score</p>
                            <div className="text-6xl font-black text-slate-800 flex items-baseline justify-center gap-1">
                            {score} <span className="text-2xl text-slate-400 font-medium">/ 100</span>
                            </div>
                        </div>
                        <div className="p-6 bg-gradient-to-br from-slate-50 to-white rounded-2xl border border-slate-200 shadow-sm">
                            <p className="text-sm text-slate-400 mb-1 font-medium">獲得稱號</p>
                            <h2 className={`text-3xl font-bold mb-3 ${getRank(score).color}`}>{getRank(score).title}</h2>
                            <div className="w-16 h-1 bg-slate-200 mx-auto mb-3 rounded-full"></div>
                            <p className="text-slate-600 leading-relaxed">{getRank(score).msg}</p>
                        </div>
                        <div className="flex flex-col gap-3">
                            <button onClick={startGame} className="w-full py-4 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl text-xl font-bold shadow-lg flex items-center justify-center gap-2 transition-all hover:shadow-xl">
                                <Icons.RefreshCw /> 再挑戰一次
                            </button>
                            <button onClick={() => setGameState('history')} className="w-full py-3 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded-xl text-lg font-bold transition-colors flex items-center justify-center gap-2">
                                <Icons.History size={20}/> 查看所有紀錄
                            </button>
                        </div>
                        </div>
                    )}

                    {gameState === 'history' && (
                        <div className="h-full flex flex-col animate-fade-in">
                            <div className="flex justify-between items-center mb-6">
                                <h2 className="text-2xl font-bold text-slate-800 flex items-center gap-2"><Icons.History className="text-emerald-600"/> 稱號紀錄</h2>
                                <button onClick={() => setGameState('start')} className="px-4 py-2 bg-slate-200 hover:bg-slate-300 rounded-lg text-sm font-bold transition-colors flex items-center gap-1"><Icons.ChevronLeft size={16}/> 返回</button>
                            </div>
                            <div className="flex-1 overflow-y-auto custom-scrollbar pr-2 mb-4" style={{maxHeight: '400px'}}>
                                {history.length === 0 ? (
                                    <div className="h-64 flex flex-col items-center justify-center text-slate-400 border-2 border-dashed border-slate-200 rounded-xl bg-slate-50">
                                        <Icons.Trophy size={48} className="mb-2 opacity-50"/>
                                        <p>目前還沒有任何紀錄喔！</p>
                                        <p className="text-sm">快去挑戰看看吧！</p>
                                    </div>
                                ) : (
                                    <div className="space-y-3">
                                        {history.map((record, idx) => (
                                            <div key={idx} className="bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex items-center justify-between hover:border-emerald-200 transition-colors">
                                                <div className="flex items-center gap-4">
                                                    <div className={`text-2xl font-bold w-12 text-center ${record.score >= 60 ? 'text-emerald-600' : 'text-slate-400'}`}>{record.score}</div>
                                                    <div>
                                                        <div className={`font-bold ${record.color} text-lg`}>{record.title}</div>
                                                        <div className="text-xs text-slate-400 font-mono mt-1">{record.date}</div>
                                                    </div>
                                                </div>
                                                {idx === 0 && <span className="bg-emerald-100 text-emerald-700 text-xs px-2 py-1 rounded-full font-bold">最新</span>}
                                            </div>
                                        ))}
                                    </div>
                                )}
                            </div>
                            {history.length > 0 && (
                                <button onClick={clearHistory} className="w-full py-3 border-2 border-red-100 text-red-400 hover:bg-red-50 hover:text-red-500 hover:border-red-200 rounded-xl text-sm font-bold transition-all flex items-center justify-center gap-2">
                                    <Icons.Trash2 size={18}/> 清除所有紀錄
                                </button>
                            )}
                        </div>
                    )}

                    </div>
                </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<QuizApp />);
    </script>
</body>
</html>
